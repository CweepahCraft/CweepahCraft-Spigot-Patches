From e44ee09dd966d4538f9bddc260a40082210431e4 Mon Sep 17 00:00:00 2001
From: Jacob Martin <jjm_223@hotmail.com>
Date: Sat, 10 Jun 2017 10:52:56 -0500
Subject: [PATCH 13/20] Parrot improvements

---
 src/main/java/net/minecraft/server/EntityHuman.java       | 2 +-
 src/main/java/net/minecraft/server/EntityParrot.java      | 2 +-
 src/main/java/net/minecraft/server/PathfinderGoalSit.java | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/src/main/java/net/minecraft/server/EntityHuman.java b/src/main/java/net/minecraft/server/EntityHuman.java
index 50829d8..f334462 100644
--- a/src/main/java/net/minecraft/server/EntityHuman.java
+++ b/src/main/java/net/minecraft/server/EntityHuman.java
@@ -397,7 +397,7 @@ public abstract class EntityHuman extends EntityLiving {
 
         this.j(this.getShoulderEntityLeft());
         this.j(this.getShoulderEntityRight());
-        if (!this.world.isClientSide && (this.fallDistance > 0.5F || this.isInWater() || this.isPassenger()) || this.abilities.isFlying) {
+        if (!this.world.isClientSide && (this.fallDistance > 3.0F || this.isInWater() || this.abilities.isFlying || (this.isSneaking() && !this.onGround))) {
             this.releaseShoulderEntities();
         }
 
diff --git a/src/main/java/net/minecraft/server/EntityParrot.java b/src/main/java/net/minecraft/server/EntityParrot.java
index f31d9b3..e827ab9 100644
--- a/src/main/java/net/minecraft/server/EntityParrot.java
+++ b/src/main/java/net/minecraft/server/EntityParrot.java
@@ -61,7 +61,7 @@ public class EntityParrot extends EntityPerchable implements EntityBird {
         super.initAttributes();
         this.getAttributeMap().b(GenericAttributes.e);
         this.getAttributeInstance(GenericAttributes.maxHealth).setValue(6.0D);
-        this.getAttributeInstance(GenericAttributes.e).setValue(0.4000000059604645D);
+        this.getAttributeInstance(GenericAttributes.e).setValue(4 * 0.4000000059604645D);
         this.getAttributeInstance(GenericAttributes.MOVEMENT_SPEED).setValue(0.20000000298023224D);
     }
 
diff --git a/src/main/java/net/minecraft/server/PathfinderGoalSit.java b/src/main/java/net/minecraft/server/PathfinderGoalSit.java
index d80fce9..c2bf1b4 100644
--- a/src/main/java/net/minecraft/server/PathfinderGoalSit.java
+++ b/src/main/java/net/minecraft/server/PathfinderGoalSit.java
@@ -20,7 +20,7 @@ public class PathfinderGoalSit extends PathfinderGoal {
         } else {
             EntityLiving entityliving = this.entity.getOwner();
 
-            return entityliving == null ? true : (this.entity.h(entityliving) < 144.0D && entityliving.getLastDamager() != null ? false : this.willSit);
+            return entityliving == null ? true : (!(this.entity instanceof EntityParrot) && this.entity.h(entityliving) < 144.0D && entityliving.getLastDamager() != null ? false : this.willSit);
         }
     }
 
-- 
1.9.1

